
<!DOCTYPE html>
<html>
	<head>
		<title>T800-Controller</title>
	</head>
	<body>
		<button id="discoverBluetoothBtn">Discover Bluetooth Devices</button>
	</body>
	<script>
		document.getElementById("discoverBluetoothBtn").addEventListener('click', function() {
		  	navigator.bluetooth.requestDevice({
			    filters: [{
				    name: 'DSD TECH',
				    services: ['FFE0']
				  }]
			  	})
			  	.then(device => {
			    	console.log('> Requested ' + device.name + ' (' + device.id + ')');
				    // Attempts to connect to remote GATT Server.
		  			return device.gatt.connect();
			  	})
			  	.then(server => {
				  	return server.getPrimaryService('FFE0');
				})
				.then(service => {
				  	return service.getCharacteristic('FFE1');
				})
			  	.then(characteristic => {
					const epicMode1 = "epic_mode_1"
					return characteristic.writeValueWithoutResponse(epicMode1);
				})
			  .catch(error => {
			    console.log('Argh! ' + error);
		  });
		});
	</script>
</html>